{"ast":null,"code":"var _jsxFileName = \"D:\\\\Event-master\\\\frontend\\\\src\\\\components\\\\dashboard\\\\search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport './VenueDetails';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search() {\n  _s();\n  // Dummy user profile data\n  const navigate = useNavigate();\n  const [venues, setVenues] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const searchInputRef = useRef(null);\n  const [searchCategory, setSearchCategory] = useState('venues');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [events, setEvents] = useState([]);\n  const storedUser = (() => {\n    try {\n      return JSON.parse(localStorage.getItem('user') || 'null');\n    } catch {\n      return null;\n    }\n  })();\n  const user = storedUser || {\n    firstName: \"User\",\n    role: \"Event Planner\",\n    avatar: \"https://randomuser.me/api/portraits/men/32.jpg\"\n  };\n  const displayName = (() => {\n    const full = [user.firstName, user.lastName].filter(Boolean).join(' ').trim();\n    if (full) return full;\n    if (user.name) return user.name;\n    if (user.email) return user.email.split('@')[0];\n    return 'User';\n  })();\n  const userEmail = (user === null || user === void 0 ? void 0 : user.email) || '';\n  const initials = ((_parts$, _parts$2) => {\n    const source = displayName || 'User';\n    const parts = source.trim().split(/\\s+/);\n    const first = ((_parts$ = parts[0]) === null || _parts$ === void 0 ? void 0 : _parts$[0]) || 'U';\n    const second = ((_parts$2 = parts[1]) === null || _parts$2 === void 0 ? void 0 : _parts$2[0]) || '';\n    return (first + second).toUpperCase();\n  })();\n\n  // Fetch venues from API\n  const fetchVenues = async qParam => {\n    try {\n      setLoading(true);\n      const url = new URL('http://localhost:5000/api/venues');\n      const q = typeof qParam === 'string' ? qParam : searchQuery;\n      if (q && q.trim()) url.searchParams.set('q', q.trim());\n      const response = await fetch(url.toString());\n      if (response.ok) {\n        const data = await response.json();\n        // Venues are already sorted by backend (newest first)\n        setVenues(data);\n        setError('');\n      } else {\n        setError('Failed to fetch venues');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n      console.error('Error fetching venues:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch events from API\n  const fetchEvents = async qParam => {\n    try {\n      setLoading(true);\n      const url = new URL('http://localhost:5000/api/events');\n      const q = typeof qParam === 'string' ? qParam : searchQuery;\n      if (q && q.trim()) url.searchParams.set('q', q.trim());\n      const response = await fetch(url.toString());\n      if (response.ok) {\n        const data = await response.json();\n        setEvents(data);\n        setError('');\n      } else {\n        setError('Failed to fetch events');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n      console.error('Error fetching events:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchVenues();\n    fetchEvents();\n  }, []);\n\n  // Debounce venue search when typing\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      if (searchCategory === 'venues') {\n        fetchVenues(searchQuery);\n      } else if (searchCategory === 'events') {\n        fetchEvents(searchQuery);\n      }\n    }, 300);\n    return () => clearTimeout(handler);\n  }, [searchQuery, searchCategory]);\n\n  // Initialize from URL params on mount\n  useEffect(() => {\n    const typeParam = searchParams.get('type');\n    const qParam = searchParams.get('q');\n    if (typeParam === 'events' || typeParam === 'venues') {\n      setSearchCategory(typeParam);\n    }\n    if (qParam !== null) {\n      setSearchQuery(qParam);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Keep URL in sync with category and query\n  useEffect(() => {\n    const params = {};\n    if (searchCategory) params.type = searchCategory;\n    if (searchQuery.trim()) params.q = searchQuery;\n    setSearchParams(params, {\n      replace: true\n    });\n  }, [searchCategory, searchQuery, setSearchParams]);\n\n  // Filter venues by search query\n  const filteredVenues = venues.filter(venue => {\n    if (!searchQuery.trim()) return true;\n    const q = searchQuery.toLowerCase();\n    const name = (venue.name || '').toLowerCase();\n    const location = (venue.location || '').toLowerCase();\n    const description = (venue.description || '').toLowerCase();\n    const capacityStr = String(venue.capacity || '');\n    return name.includes(q) || location.includes(q) || description.includes(q) || capacityStr.includes(q);\n  });\n\n  // Dummy event data with images\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8 bg-white flex-1 text-blue-900\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" rounded-2xl p-8 flex-1 mr-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-4xl font-bold mb-2\",\n          children: [\"Welcome, \", displayName, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-blue-700\",\n          children: \"Find and manage your events easily.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center  rounded-2xl p-6 w-56 \",\n        children: [user !== null && user !== void 0 && user.avatar ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: user.avatar,\n          alt: displayName,\n          className: \"w-20 h-20 rounded-full mb-4 object-cover border-4 border-blue-200\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-20 h-20 rounded-full mb-4 border-4 border-blue-200 bg-blue-100 text-blue-700 flex items-center justify-center text-2xl font-bold\",\n          children: initials\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-bold\",\n          children: displayName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-blue-600 text-base\",\n          children: userEmail || user.role\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center pb-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 relative mb-8 mr-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search venues by name or location\",\n          className: \"w-full p-4 border border-gray-300 rounded-xl pr-12\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value),\n          ref: searchInputRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), searchQuery && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setSearchQuery(''),\n          className: \"absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\",\n          title: \"Clear\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-5 h-5\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (searchInputRef.current) {\n              searchInputRef.current.focus();\n            }\n            if (searchCategory === 'venues') {\n              fetchVenues(searchQuery);\n            }\n          },\n          className: \"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gold-600 transition-colors\",\n          \"aria-label\": \"Search\",\n          title: \"Search\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-7 h-7 pr-2\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            \"aria-hidden\": \"true\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          value: searchCategory,\n          onChange: e => setSearchCategory(e.target.value),\n          className: \"h-full p-4 border border-gray-300 rounded-xl text-gray-700 bg-white\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"venues\",\n            children: \"Venues\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"events\",\n            children: \"Events\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), searchCategory === 'events' ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 px-4\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gold-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading events...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 13\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }, this) : events.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 text-6xl mb-4\",\n          children: \"\\uD83C\\uDF89\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No matching events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Try a different search term or clear the search.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }, this) : events.map((event, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-50 border border-blue-200 rounded-2xl shadow-xl flex flex-col\",\n        style: {\n          minHeight: '420px'\n        },\n        children: [event.images && event.images.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000${event.images[0]}`,\n          alt: event.name,\n          className: \"w-full h-48 object-cover rounded-t-2xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-48 bg-gray-200 rounded-t-2xl flex items-center justify-center text-4xl\",\n          children: \"\\uD83C\\uDF89\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 flex flex-col flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-3\",\n            children: event.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-base text-gray-600 mb-2\",\n            children: [event.location, \" \\u2022 Capacity: \", event.capacity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-blue-900 mb-6 flex-1\",\n            children: event.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mt-auto\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(`/dashboard/events/${event._id}`),\n              className: \"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors\",\n              children: \"View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(`/events/${event._id}/register`),\n              className: \"bg-yellow-400 text-blue-900 px-6 py-3 rounded-xl font-semibold hover:bg-yellow-500 transition-colors\",\n              children: \"Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 17\n        }, this)]\n      }, `event-${idx}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 px-4\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gold-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Loading venues...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 13\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 13\n      }, this) : filteredVenues.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 text-6xl mb-4\",\n          children: \"\\uD83C\\uDFE2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-900 mb-2\",\n          children: \"No matching venues\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"Try a different search term or clear the search.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 13\n      }, this) : filteredVenues.map((venue, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-yellow-50 border border-yellow-200 rounded-2xl shadow-xl flex flex-col\",\n        style: {\n          minHeight: '420px'\n        },\n        children: [venue.images && venue.images.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `http://localhost:5000${venue.images[0]}`,\n          alt: venue.name,\n          className: \"w-full h-48 object-cover rounded-t-2xl\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 19\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full h-48 bg-gray-200 rounded-t-2xl flex items-center justify-center text-4xl\",\n          children: \"\\uD83C\\uDFE2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-8 flex flex-col flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold mb-3\",\n            children: venue.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-base text-gray-600 mb-2\",\n            children: [venue.location, \" \\u2022 Capacity: \", venue.capacity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-blue-900 mb-6 flex-1\",\n            children: venue.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4 mt-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate(`/dashboard/venues/${venue._id}`, {\n                state: {\n                  from: 'search'\n                }\n              }),\n              className: \"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors\",\n              children: \"View Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 17\n        }, this)]\n      }, `venue-${idx}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 150,\n    columnNumber: 5\n  }, this);\n}\n_s(Search, \"uXBvHrS78G+OO4x6xmrzx5jfJfw=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","useSearchParams","jsxDEV","_jsxDEV","Search","_s","navigate","venues","setVenues","loading","setLoading","error","setError","searchQuery","setSearchQuery","searchInputRef","searchCategory","setSearchCategory","searchParams","setSearchParams","events","setEvents","storedUser","JSON","parse","localStorage","getItem","user","firstName","role","avatar","displayName","full","lastName","filter","Boolean","join","trim","name","email","split","userEmail","initials","_parts$","_parts$2","source","parts","first","second","toUpperCase","fetchVenues","qParam","url","URL","q","set","response","fetch","toString","ok","data","json","err","console","fetchEvents","handler","setTimeout","clearTimeout","typeParam","get","params","type","replace","filteredVenues","venue","toLowerCase","location","description","capacityStr","String","capacity","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","placeholder","value","onChange","e","target","ref","onClick","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","current","focus","length","map","event","idx","style","minHeight","images","_id","state","from","_c","$RefreshReg$"],"sources":["D:/Event-master/frontend/src/components/dashboard/search.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useNavigate, useSearchParams } from 'react-router-dom';\nimport './VenueDetails';\n\nfunction Search() {\n  // Dummy user profile data\n  const navigate = useNavigate();\n  const [venues, setVenues] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const searchInputRef = useRef(null);\n  const [searchCategory, setSearchCategory] = useState('venues');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [events, setEvents] = useState([]);\n  \n  const storedUser = (() => {\n    try { return JSON.parse(localStorage.getItem('user') || 'null'); } catch { return null; }\n  })();\n  const user = storedUser || {\n    firstName: \"User\",\n    role: \"Event Planner\",\n    avatar: \"https://randomuser.me/api/portraits/men/32.jpg\"\n  };\n\n  const displayName = (() => {\n    const full = [user.firstName, user.lastName].filter(Boolean).join(' ').trim();\n    if (full) return full;\n    if (user.name) return user.name;\n    if (user.email) return user.email.split('@')[0];\n    return 'User';\n  })();\n\n  const userEmail = user?.email || '';\n\n  const initials = (() => {\n    const source = displayName || 'User';\n    const parts = source.trim().split(/\\s+/);\n    const first = parts[0]?.[0] || 'U';\n    const second = parts[1]?.[0] || '';\n    return (first + second).toUpperCase();\n  })();\n\n  // Fetch venues from API\n  const fetchVenues = async (qParam) => {\n    try {\n      setLoading(true);\n      const url = new URL('http://localhost:5000/api/venues');\n      const q = typeof qParam === 'string' ? qParam : searchQuery;\n      if (q && q.trim()) url.searchParams.set('q', q.trim());\n      const response = await fetch(url.toString());\n      if (response.ok) {\n        const data = await response.json();\n        // Venues are already sorted by backend (newest first)\n        setVenues(data);\n        setError('');\n      } else {\n        setError('Failed to fetch venues');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n      console.error('Error fetching venues:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch events from API\n  const fetchEvents = async (qParam) => {\n    try {\n      setLoading(true);\n      const url = new URL('http://localhost:5000/api/events');\n      const q = typeof qParam === 'string' ? qParam : searchQuery;\n      if (q && q.trim()) url.searchParams.set('q', q.trim());\n      const response = await fetch(url.toString());\n      if (response.ok) {\n        const data = await response.json();\n        setEvents(data);\n        setError('');\n      } else {\n        setError('Failed to fetch events');\n      }\n    } catch (err) {\n      setError('Error connecting to server');\n      console.error('Error fetching events:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchVenues();\n    fetchEvents();\n  }, []);\n\n  // Debounce venue search when typing\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      if (searchCategory === 'venues') {\n        fetchVenues(searchQuery);\n      } else if (searchCategory === 'events') {\n        fetchEvents(searchQuery);\n      }\n    }, 300);\n    return () => clearTimeout(handler);\n  }, [searchQuery, searchCategory]);\n\n  // Initialize from URL params on mount\n  useEffect(() => {\n    const typeParam = searchParams.get('type');\n    const qParam = searchParams.get('q');\n    if (typeParam === 'events' || typeParam === 'venues') {\n      setSearchCategory(typeParam);\n    }\n    if (qParam !== null) {\n      setSearchQuery(qParam);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Keep URL in sync with category and query\n  useEffect(() => {\n    const params = {};\n    if (searchCategory) params.type = searchCategory;\n    if (searchQuery.trim()) params.q = searchQuery;\n    setSearchParams(params, { replace: true });\n  }, [searchCategory, searchQuery, setSearchParams]);\n\n  // Filter venues by search query\n  const filteredVenues = venues.filter((venue) => {\n    if (!searchQuery.trim()) return true;\n    const q = searchQuery.toLowerCase();\n    const name = (venue.name || '').toLowerCase();\n    const location = (venue.location || '').toLowerCase();\n    const description = (venue.description || '').toLowerCase();\n    const capacityStr = String(venue.capacity || '');\n    return (\n      name.includes(q) ||\n      location.includes(q) ||\n      description.includes(q) ||\n      capacityStr.includes(q)\n    );\n  });\n\n  // Dummy event data with images\n\n\n\n  return (\n    <div className=\"p-8 bg-white flex-1 text-blue-900\">\n      <div className=\"flex items-center justify-between mb-8\">\n        {/* Welcome Message */}\n        <div className=\" rounded-2xl p-8 flex-1 mr-8\">\n          <h1 className=\"text-4xl font-bold mb-2\">Welcome, {displayName}!</h1>\n          <p className=\"text-lg text-blue-700\">Find and manage your events easily.</p>\n        </div>\n        {/* User Profile */}\n        <div className=\"flex flex-col items-center  rounded-2xl p-6 w-56 \">\n          {user?.avatar ? (\n            <img\n              src={user.avatar}\n              alt={displayName}\n              className=\"w-20 h-20 rounded-full mb-4 object-cover border-4 border-blue-200\"\n            />\n          ) : (\n            <div className=\"w-20 h-20 rounded-full mb-4 border-4 border-blue-200 bg-blue-100 text-blue-700 flex items-center justify-center text-2xl font-bold\">\n              {initials}\n            </div>\n          )}\n          <span className=\"text-xl font-bold\">{displayName}</span>\n          <span className=\"text-blue-600 text-base\">{userEmail || user.role}</span>\n        </div>\n      </div>\n      <div className=\"flex justify-center pb-5\">\n        <div className=\"w-1/2 relative mb-8 mr-4\">\n          <input\n            type=\"text\"\n            placeholder=\"Search venues by name or location\"\n            className=\"w-full p-4 border border-gray-300 rounded-xl pr-12\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            ref={searchInputRef}\n          />\n          {searchQuery && (\n            <button\n              onClick={() => setSearchQuery('')}\n              className=\"absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors\"\n              title=\"Clear\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          )}\n          <button\n            onClick={() => {\n              if (searchInputRef.current) {\n                searchInputRef.current.focus();\n              }\n              if (searchCategory === 'venues') {\n                fetchVenues(searchQuery);\n              }\n            }}\n            className=\"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gold-600 transition-colors\"\n            aria-label=\"Search\"\n            title=\"Search\"\n          >\n            <svg className=\"w-7 h-7 pr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z\" />\n            </svg>\n          </button>\n        </div>\n        <div className=\"mb-8\">\n          <select\n            value={searchCategory}\n            onChange={(e) => setSearchCategory(e.target.value)}\n            className=\"h-full p-4 border border-gray-300 rounded-xl text-gray-700 bg-white\"\n          >\n            <option value=\"venues\">Venues</option>\n            <option value=\"events\">Events</option>\n          </select>\n        </div>\n      </div>\n      {/* Results */}\n      {searchCategory === 'events' ? (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 px-4\">\n          {loading ? (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gold-500\"></div>\n              <p className=\"mt-4 text-gray-600\">Loading events...</p>\n            </div>\n          ) : error ? (\n            <div className=\"col-span-full bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\n              {error}\n            </div>\n          ) : events.length === 0 ? (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"text-gray-400 text-6xl mb-4\">🎉</div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No matching events</h3>\n              <p className=\"text-gray-500\">Try a different search term or clear the search.</p>\n            </div>\n          ) : (\n            events.map((event, idx) => (\n              <div\n                key={`event-${idx}`}\n                className=\"bg-blue-50 border border-blue-200 rounded-2xl shadow-xl flex flex-col\"\n                style={{ minHeight: '420px' }}\n              >\n                {/* Image */}\n                {event.images && event.images.length > 0 ? (\n                  <img\n                    src={`http://localhost:5000${event.images[0]}`}\n                    alt={event.name}\n                    className=\"w-full h-48 object-cover rounded-t-2xl\"\n                  />\n                ) : (\n                  <div className=\"w-full h-48 bg-gray-200 rounded-t-2xl flex items-center justify-center text-4xl\">\n                    🎉\n                  </div>\n                )}\n\n                {/* Content */}\n                <div className=\"p-8 flex flex-col flex-1\">\n                  <h2 className=\"text-2xl font-bold mb-3\">{event.name}</h2>\n                  <p className=\"text-base text-gray-600 mb-2\">\n                    {event.location} • Capacity: {event.capacity}\n                  </p>\n                  <p className=\"text-lg text-blue-900 mb-6 flex-1\">{event.description}</p>\n                  <div className=\"flex gap-4 mt-auto\">\n                    <button onClick={() => navigate(`/dashboard/events/${event._id}`)}\n                      className=\"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors\">\n                      View Details\n                    </button>\n                    <button \n                      onClick={() => navigate(`/events/${event._id}/register`)}\n                      className=\"bg-yellow-400 text-blue-900 px-6 py-3 rounded-xl font-semibold hover:bg-yellow-500 transition-colors\">\n                      Register\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8 px-4\">\n          {loading ? (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gold-500\"></div>\n              <p className=\"mt-4 text-gray-600\">Loading venues...</p>\n            </div>\n          ) : error ? (\n            <div className=\"col-span-full bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6\">\n              {error}\n            </div>\n          ) : filteredVenues.length === 0 ? (\n            <div className=\"col-span-full text-center py-12\">\n              <div className=\"text-gray-400 text-6xl mb-4\">🏢</div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No matching venues</h3>\n              <p className=\"text-gray-500\">Try a different search term or clear the search.</p>\n            </div>\n          ) : (\n            filteredVenues.map((venue, idx) => (\n              <div\n                key={`venue-${idx}`}\n                className=\"bg-yellow-50 border border-yellow-200 rounded-2xl shadow-xl flex flex-col\"\n                style={{ minHeight: '420px' }}\n              >\n                {venue.images && venue.images.length > 0 ? (\n                  <img\n                    src={`http://localhost:5000${venue.images[0]}`}\n                    alt={venue.name}\n                    className=\"w-full h-48 object-cover rounded-t-2xl\"\n                  />\n                ) : (\n                  <div className=\"w-full h-48 bg-gray-200 rounded-t-2xl flex items-center justify-center text-4xl\">\n                    🏢\n                  </div>\n                )}\n                <div className=\"p-8 flex flex-col flex-1\">\n                  <h2 className=\"text-2xl font-bold mb-3\">{venue.name}</h2>\n                  <p className=\"text-base text-gray-600 mb-2\">{venue.location} • Capacity: {venue.capacity}</p>\n                  <p className=\"text-lg text-blue-900 mb-6 flex-1\">{venue.description}</p>\n                  <div className=\"flex gap-4 mt-auto\">\n                    <button\n                      onClick={() => navigate(`/dashboard/venues/${venue._id}`, { state: { from: 'search' } })}\n                      className=\"bg-blue-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors\"\n                    >\n                      View Details\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Search;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}